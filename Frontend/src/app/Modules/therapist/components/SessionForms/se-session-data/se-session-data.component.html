
<form [formGroup]="seSessionForm" novalidate class="center-div">
  <mat-card class="shipping-card">

    <div class="container">
      <h2>SE SESSION FORM </h2>

      <div class="container">
        <form [formGroup]="seSessionForm" (ngSubmit)="onSubmit()">
          <mat-card>
            <div class="tab">
              <div class="row">
                <div class="col" *ngFor="let tile of client">
                  <h4>Client Name : {{tile.firstName}}</h4>
                </div>
                <div class="col" *ngFor="let tile of sessionM">
                  <h4>Date: {{tile.date | date:'dd/MM/yyyy'}}</h4>
                </div>
              </div>
            </div>
          </mat-card>
          <br>


          <div class="container">
            <form [formGroup]="seSessionForm" (ngSubmit)="onSubmit()">



              <table class="table table-bordered" formArrayName="seDatas">
                <table *ngFor="let seData of seSessionData().controls; let i=index" [formGroupName]="i" class="full-width">
                  <tr>
                    <td colspan="2">
                      Goal :
                      <mat-form-field appearance="fill" class="full-width">
                        <mat-label >Goal</mat-label>
                        <mat-select formControlName="goal">
                          <span *ngIf="seGoals.length != 0" class="material-icons" style="font-size: 25px; color: rgb(0, 128, 55);"
                            (click)="addSeGoal()">playlist_add</span>
                          <mat-option *ngFor="let item of  seGoals" [value]="item._id">
                            {{item.goal}} : {{item.expectPeriod}}
                          </mat-option>
                          <mat-option  *ngIf="seGoals.length === 0">
                            <span class="material-icons" style="font-size: 25px; color: rgb(0, 128, 55);" (click)="addSeGoal()">playlist_add</span>
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </td>
                  </tr>

                  <tr>
                    <td colspan="2">
                      Activities :
                      <input type="text" formControlName="activities" class="form-control">
                    </td>
                  </tr>
                  <tr>
                    <td colspan="2">
                      Response:
                      <input type="text" formControlName="response" class="form-control">
                    </td>
                  </tr>
                  <tr>
                    <td colspan="3">
                      Notes:
                      <input type="text" formControlName="notes" class="form-control">
                    </td>
                  </tr>
                  <tr>
                    <td>
                      Status:
                      <mat-slide-toggle formControlName="status"></mat-slide-toggle>
                    </td>
                    <td>
                      <button (click)="removeGoal(i)" class="btn btn-danger">Remove</button>
                    </td>
                  </tr>
                </table>
                <tr>
                  <th>Add Goal:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <button mat-raised-button  type="button" (click)="addGoal()" color="primary">Add Goal</button></th>
                </tr>
              </table>
            </form>

            <br/>
          </div>
          <button mat-raised-button color="primary" type="submit">Submit</button>

        </form>
      </div>
    </div>
  </mat-card>
</form>

