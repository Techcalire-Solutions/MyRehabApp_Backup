
<form [formGroup]="taskForm" novalidate (ngSubmit)="onSubmit()"class="center-div">
  <mat-card class="shipping-card">
    <mat-card-header>
      <mat-card-title>ADD TASK</mat-card-title>
    </mat-card-header>
    <mat-card-content>

      <table class="table table-bordered" formArrayName="tasks">
        <table *ngFor="let seData of task().controls; let i=index" [formGroupName]="i" class="full-width">
          <tr>
            <td colspan="2">
              Task :
              <textarea type="text" formControlName="task" class="form-control"></textarea>
            </td>
          </tr>

          <div class="container">
            <div class="row it">
            <div id="one">
            <p>
            Please upload documents only in 'pdf', 'docx', 'rtf', 'jpg', 'jpeg', 'png', 'heic' & 'text' format.
            </p>
            <div class="row">
              <div>
              </div><!--form-group-->
            </div><!--row-->
            <div id="uploader">
            <div class="row uploadDoc">
              <div>
                <div class="docErr">Please upload valid file</div><!--error-->
                  <div class="container" appearance="fill">
                    <ng-container *ngIf="imageUrl; else noImage">
                      <img [src]="imageUrl" alt="Image" title="Image" height="150" width="100"/>
                    </ng-container>
    
                    <ng-template #noImage>
                      <img src="../../../../../../assets/no_image_part.png" alt="Alternative Image" title="Image" height="150" width="100" />
                    </ng-template>
                    <input type="file" id="fileInput" (change)="onFileSelected($event)" />
                    <button mat-raised-button type="button" color="accent" (click)="onUpload(i)" [disabled]="!uploadStatus">
                      <span class="material-icons">upload_file</span>
                    </button>
                  </div>
                </div>
                <div>
                  <textarea type="text" placeholder="Note" formControlName="response"></textarea>
                </div>
                </div>
              </div>
            <div class="text-center">
    
            </div>
            </div>
            </div>
          </div>


          <tr>
            <td colspan="2">
              <mat-form-field appearance="fill">
                <mat-label>Due Date:</mat-label>
                <input matInput [matDatepicker]="startDatePicker" formControlName="date" placeholder="Choose date">
                <mat-datepicker-toggle matSuffix [for]="startDatePicker"></mat-datepicker-toggle>
                <mat-datepicker #startDatePicker></mat-datepicker>
              </mat-form-field>
            </td>

            <td>
              <button (click)="removeTask(i)" class="btn btn-danger">Remove</button>
            </td>
          </tr>
        </table>
        <tr>
          <th>Add Task:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button mat-raised-button  type="button" (click)="addTask()" color="primary">Add Task</button></th>
        </tr>
      </table>



    </mat-card-content>
    <mat-card-actions>
      <button mat-raised-button color="primary" type="submit">ADD</button>
      <button mat-raised-button color="primary" type="button" (click)="cancel()">Cancel</button>
    </mat-card-actions>
  </mat-card>
  </form>
<!-- ----------------------------Table--------------------------------- -->

<!-- <mat-form-field>
<mat-label>Search</mat-label>
<input matInput (keyup)="applyFilter($event)" placeholder="Ex. ium" #input>
</mat-form-field>

<div style="overflow-x: auto;">
<table mat-table *ngIf=" filtered" [dataSource]="filtered" class="mat-elevation-z8">
<ng-container matColumnDef="therapyName">
 <th mat-header-cell *matHeaderCellDef>Therapy Category</th>
 <td mat-cell *matCellDef="let element"> {{element.therapyName}} </td>
</ng-container>

<ng-container matColumnDef="abbreviation">
<th mat-header-cell *matHeaderCellDef>Abbreviation </th>
<td mat-cell *matCellDef="let element"> {{element.abbreviation}} </td>
</ng-container>


<ng-container matColumnDef="action">
<th mat-header-cell *matHeaderCellDef>Manage </th>
<td mat-cell *matCellDef="let element">
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  <i  (click)="editCategory(element._id)"  class="fa fa-edit" style="font-size: 20px; color:green"></i>
  &nbsp;&nbsp;
  <i  (click)="deleteCategory(element._id)" class="fa fa-trash" style="font-size: 20px; color:red"></i>
</td>
</ng-container>

<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
</div> -->
